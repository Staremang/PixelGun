function isMobile() {
    return document.documentElement.clientWidth <= 575;
}

function fadeOut(e) {
    e.style.opacity = 1;
    var t = +new Date(), o = function() {
        e.style.opacity = +e.style.opacity - (new Date() - t) / 400, t = +new Date(), +e.style.opacity > 0 && (window.requestAnimationFrame && requestAnimationFrame(o) || setTimeout(o, 16));
    };
    o();
}

function ready(e) {
    (document.attachEvent ? "complete" === document.readyState : "loading" !== document.readyState) ? e() : document.addEventListener("DOMContentLoaded", e);
}

function onYouTubeIframeAPIReady() {
    var e = 0, t = 0, o = document.documentElement.clientHeight, a = document.documentElement.clientWidth;
    a / o >= 16 / 9 ? (t = a, e = a / (16 / 9)) : (e = o, t = o * (16 / 9)), player = new YT.Player("video", {
        height: e,
        width: t,
        videoId: videoParam.id,
        playerVars: {
            autoplay: 1,
            controls: 0,
            showinfo: 0,
            loop: 1,
            rel: 0,
            playlist: videoParam.id
        },
        events: {
            onReady: onPlayerReady
        }
    }), window.addEventListener("resize", function() {
        videoResize();
    });
}

function onPlayerReady(e) {
    videoResize(), e.target.playVideo(), e.target.mute(), pausePlayVideo(), player.addEventListener("onStateChange", function(e) {
        1 == e.data && fadeOut(document.querySelector(".video-cup"));
    });
}

function videoResize() {
    var e = document.documentElement.clientHeight, t = document.documentElement.clientWidth, o = document.getElementById("video");
    t / e >= 16 / 9 ? (player.setSize(t, t / (16 / 9)), o.style.marginTop = (e - t / (16 / 9)) / 2 + "px", 
    o.style.marginLeft = "") : (player.setSize(e * (16 / 9), e), o.style.marginLeft = (t - e * (16 / 9)) / 2 + "px", 
    o.style.marginTop = "");
}

function pausePlayVideo() {
    document.querySelector("body").classList.contains("disabled-onepage-scroll") || !document.querySelector("body").classList.contains("onepage") ? window.addEventListener("scroll", function() {
        window.pageYOffset > document.documentElement.clientHeight + 50 ? player.pauseVideo() : player.playVideo();
    }) : document.querySelector("body").classList.contains("viewing-page-1") ? player.playVideo() : player.pauseVideo(), 
    beforePage = function(e) {
        1 == e && done && (player.playVideo(), console.log("play"), done = !1);
    }, afterPage = function(e) {
        1 === e || done || (player.pauseVideo(), console.log("pause"), done = !0);
    };
}

function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
        center: mapParam.center,
        zoom: mapParam.zoom,
        styles: [ {
            elementType: "labels.icon",
            stylers: [ {
                visibility: "off"
            } ]
        }, {
            elementType: "labels.text.fill",
            stylers: [ {
                color: "#616161"
            } ]
        }, {
            elementType: "labels.text.stroke",
            stylers: [ {
                color: "#f5f5f5"
            } ]
        }, {
            featureType: "administrative.land_parcel",
            elementType: "labels.text.fill",
            stylers: [ {
                color: "#bdbdbd"
            } ]
        }, {
            featureType: "landscape.man_made",
            elementType: "geometry.fill",
            stylers: [ {
                color: "#f2f2f2"
            } ]
        }, {
            featureType: "landscape.natural",
            elementType: "geometry",
            stylers: [ {
                color: "#f2f2f2"
            } ]
        }, {
            featureType: "poi",
            elementType: "geometry",
            stylers: [ {
                color: "#f2f2f2"
            } ]
        }, {
            featureType: "poi",
            elementType: "labels.text.fill",
            stylers: [ {
                color: "#757575"
            } ]
        }, {
            featureType: "poi.park",
            elementType: "labels.text.fill",
            stylers: [ {
                color: "#9e9e9e"
            } ]
        }, {
            featureType: "road",
            elementType: "geometry",
            stylers: [ {
                color: "#ffffff"
            } ]
        }, {
            featureType: "road.arterial",
            elementType: "labels.text.fill",
            stylers: [ {
                color: "#757575"
            } ]
        }, {
            featureType: "road.highway",
            elementType: "labels.text.fill",
            stylers: [ {
                color: "#616161"
            } ]
        }, {
            featureType: "road.local",
            elementType: "labels.text.fill",
            stylers: [ {
                color: "#9e9e9e"
            } ]
        }, {
            featureType: "transit.line",
            elementType: "geometry",
            stylers: [ {
                color: "#e5e5e5"
            } ]
        }, {
            featureType: "transit.station",
            elementType: "geometry",
            stylers: [ {
                color: "#eeeeee"
            } ]
        }, {
            featureType: "water",
            elementType: "geometry",
            stylers: [ {
                color: "#46bcec"
            } ]
        }, {
            featureType: "water",
            elementType: "labels.text.fill",
            stylers: [ {
                color: "#9e9e9e"
            } ]
        } ],
        mapTypeControl: !1,
        scrollwheel: !1,
        streetViewControl: !1,
        zoomControlOptions: {
            position: google.maps.ControlPosition.LEFT_BOTTOM
        }
    }), (geocoder = new google.maps.Geocoder()).geocode({
        address: mapParam.address
    }, function(e, t) {
        if ("OK" == t) {
            map.setCenter(e[0].geometry.location);
            new google.maps.Marker({
                map: map,
                position: e[0].geometry.location,
                icon: mapParam.markerUrl
            });
        } else console.error("Address not found", mapParam.address, t);
    });
}

function openCloseMenu() {
    document.querySelector(".header-container").classList.toggle("view");
}

function setPopupHtml(e) {
    return '<div class="vacancy-popup">\t\t\t\t<button class="vacancy-popup__btn"></button>\t\t\t\t<div class="vacancy-popup-head">\t\t\t\t\t<div class="vacancy-popup-head__icon">' + e.find(".vacancy__icon").html() + '</div>\t\t\t\t\t<div class="vacancy-popup-head__name">' + e.find(".vacancy__name").html() + '</div>\t\t\t\t\t<div class="vacancy-popup-head__info">' + e.find(".vacancy__info").html() + '</div>\t\t\t\t\t<div class="vacancy-popup-head__employment">' + e.find(".vacancy__employment").html() + '</div>\t\t\t\t\t<div class="vacancy-popup-head__city">' + e.find(".vacancy__city").html() + '</div>\t\t\t\t\t<a href="#" class="vacancy-popup-head__btn">откликнуться</a>\t\t\t\t</div>\t\t\t\t<div class="vacancy-popup-info">' + e.find(".vacancy__description").html() + "</div>\t\t\t</div>";
}

var player, done = !1, map, geocoder, mapApiKey = "AIzaSyAfunSVDqMzVk4Bb5yplXxK9f2DnWXcWFk", beforePage = function() {}, afterPage = function() {};

ready(function() {
    var e = document.getElementsByTagName("script")[0], t = document.createElement("script");
    if (t.src = "https://maps.googleapis.com/maps/api/js?key=" + mapApiKey + "&callback=initMap", 
    e.parentNode.insertBefore(t, e), !isMobile()) {
        var o = document.createElement("script");
        o.src = "https://www.youtube.com/iframe_api", e.parentNode.insertBefore(o, e);
    }
    document.querySelector(".header-navigation__btn").addEventListener("click", function() {
        openCloseMenu();
    }), document.querySelector(".header-display__btn").addEventListener("click", function() {
        openCloseMenu();
    });
}), $(document).ready(function() {
    function e(e, t) {
        var o = isMobile();
        isMobile() ? ($(e).addClass("owl-carousel"), $(e).addClass("owl-theme"), $(e).owlCarousel(t)) : ($(e).removeClass("owl-carousel"), 
        $(e).removeClass("owl-theme"), $(e).trigger("destroy.owl.carousel")), $(window).resize(function() {
            isMobile() && !o ? (o = !0, $(e).addClass("owl-carousel"), $(e).addClass("owl-theme"), 
            $(e).owlCarousel(t)) : !isMobile() && o && (o = !1, $(e).removeClass("owl-carousel"), 
            $(e).removeClass("owl-theme"), $(e).trigger("destroy.owl.carousel"));
        });
    }
    $(".vacancy").click(function(e) {
        e.preventDefault();
        var t = document.createElement("div");
        document.getElementsByTagName("script")[0];
        t.classList.add("popup-container"), t.innerHTML = '<div class="popup-container__overlay"></div>' + setPopupHtml($(this)), 
        document.getElementsByTagName("script")[0], document.body.insertBefore(t, document.body.children[0]), 
        document.body.style.overflow = "hidden", t.classList.add("animated"), t.classList.add("fadeIn"), 
        $(".vacancy-popup__btn").click(function() {
            t.classList.remove("fadeIn"), t.classList.add("fadeOut"), setTimeout(function() {
                document.body.removeChild(t), document.body.style.overflow = "";
            }, 1e3);
        });
    }), document.documentElement.clientWidth > 768 ? ($("body").addClass("onepage"), 
    $(".wrapper").onepage_scroll({
        sectionContainer: "section",
        updateURL: !0,
        loop: !1,
        beforeMove: function(e) {
            beforePage(e);
        },
        afterMove: function(e) {
            afterPage(e);
        },
        responsiveFallback: 769
    }), $('a[href="#company"]').click(function(e) {
        e.preventDefault(), $(".wrapper").moveTo(2);
    }), $('a[href="#games"]').click(function(e) {
        e.preventDefault(), $(".wrapper").moveTo(3);
    }), $('a[href="#jobs"]').click(function(e) {
        e.preventDefault(), $(".wrapper").moveTo(4);
    }), $('a[href="#contact"]').click(function(e) {
        e.preventDefault(), $(".wrapper").moveTo(5);
    }), $(".section-hero-mouse-icon").click(function() {
        $(".wrapper").moveDown();
    })) : $(".header-navigation__item").click(function() {
        openCloseMenu();
    }), $(".screenshots-slider").owlCarousel({
        loop: !0,
        nav: !1,
        autoWidth: !0,
        items: 1,
        center: !0,
        autoplay: !0,
        autoplayTimeout: 5e3,
        autoplayHoverPause: !0,
        responsive: {
            0: {
                margin: 0
            },
            576: {
                margin: -32
            },
            769: {
                margin: -37
            },
            992: {
                margin: -58
            },
            1240: {
                margin: -80
            }
        }
    }), e(".about-slider", {
        loop: !0,
        nav: !1,
        items: 1
    }), e(".vacancy-container", {
        loop: !0,
        nav: !1,
        items: 1
    });
});